"$schema" = "https://jj-vcs.github.io/jj/latest/config-schema.json"

[snapshot]
# auto-track things EXCEPT in repo root where I keep putting junk files
auto-track = "glob:*/**/*"

[templates]
commit_trailers = '''
if(
  !trailers.contains_key("Change-Id"),
  format_gerrit_change_id_trailer(self)
)
'''
draft_commit_description = '''
concat(
  coalesce(description, default_commit_description, "\n"),
  surround(
    "\nJJ: This commit contains the following changes:\n", "",
    indent("JJ:     ", diff.stat(72)),
  ),
  "\nJJ: ignore-rest\n",
  diff.git(),
)
'''

[git]
private-commits = "description(glob:'wip:*') | description(glob:'private:*')"
push-bookmark-prefix = "jade/push-"

[ui]
pager = "delta"
diff-formatter = ":git"

[user]
name = "Jade Lovelace"
email = "software@lfcode.ca"

[[--scope]]
--when.repositories = ["~/lix"]
[--scope.user]
email = "lix@jade.fyi"
